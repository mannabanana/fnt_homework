### Описание

На этом занятии мы беглым взглядом окинули UNIX (Linux) Shell.

### Важные замечения!

В некоторых домашних заданиях надо писать код на каких-то языках программирования и пытаться выполнять его на тестовых машинах. Для этого можно использовать следующие средства.

Текстовые редакторы в консоли на самих тестовых машинах. С них можно править код прямо на месте. Например, vi/vim, nano. Любой (консольный) инструмент можно установить с помощью пакетного менеджера yum на машину из-под учётной записи root (перейдя в неё при помощи команды sudo -i, введя при этом пароль от _своего_ пользователя).

Текстовые редакторы на терминальном сервере (к примеру, там установлен notepad++, если надо что-то ещё -- просите) с последующей заливкой на тестовую машину, к примеру, с помощью WinSCP (тоже установлен).

На наш взгляд самый адекватный вариант -- работать с кодом в своём репозитории, который потом с помощью утилиты git сливать из большого интернета на тестовую машину (установить git с помощью yum install -y git, а далее по инструкции к git-у). Если у вас ещё не было своих репозиториев, самое время их создать, в этом вам помогут инструкции
* https://guides.github.com/activities/hello-world/
* https://docs.gitlab.com/ee/README.html
* https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud#create-the-repository

### Домашнее задание

#### Подготовка

Стать root-ом

 sudo -i

Установить на своей тестовой машине git

 yum install -y git

Склонировать данный репозиторий с учебными материалами, находясь в директории /root (обратите внимание, что работа с этим репозиторием, а также с теми, что вы создадите сами, должна осуществляться по HTTPS, доступ по SSH с машин закрыт)

 git clone https://gitlab.com/tfs_s18_admin/homework.git

В поддиректории

 /root/homework/materials/class03/src/

вы обнаружите скрипт prepare.sh, который необходимо выполнить перед выполнением задания (аналогичная директория /root/homework/materials/class02/src/ со скриптом подготовки появилась и в материалах по второй лекции; сначала надо сделать всё из материалов по второй лекции, в том числе выполнить prepare.sh из class02/src). Далее работа будет производиться с содержимым директории /root/homework/materials/class03/src/tinyhttpd.

#### Задание 1

Скомпилируйте tinyhttpd, перейдя в директорию с его исходниками и выполнив команду Make. Потестируйте его, убедитесь, что работает (как делали на лекции). Запустите его под strace (см. материалы лекции 2 и man strace). Опишите все системные вызовы, которые он использует (см. задание к лекции 02). Перечислите системные вызовы, которые выполняются при обработке отдельного запроса.

#### Задание 2 *

(Не обязательное, но полезное) Опишите каждую функцию из кода httpd.c, в двух словах, коротко - что каждая делает. Нарисуйте flowchart diagram (блок-схему) httpd.c любым удобным инструментом (Visio, Dia, PlantUML и т.п.)

#### Задание 3

Напишите bash-скрипт, который при запуске выполняет следующее. Проверяет наличие httpd в списке запущенных процессов, и если httpd в процессах нет - запускает его и пишет в /root/httpd_start.log строку вида

 <дата и время> httpd was not running, starting...

Все файлы вы можете сдать в любом виде - написав содержимое в разделе домашнего задания на сайте https://fintech.tinkoff.ru, дав ссылку на публичное хранилище, указав где что лежит на вашей тесовой машине (и имя машины), самое лучшее - указав репозиторий, где лежат файлы, относящиеся к вашему заданию (см. начало этого документа о создании репозиториев).
